**蓝图 (blueprint.md)**

**项目概述:**

开发一个 Flutter 应用，用于存储用户账号和密码（最多 5 个）。应用启动后，将自动安装指定文件夹中的第三方 APK 文件，并在第三方应用启动后尝试使用存储的账号密码进行自动登录。安全级别较低，主要用于个人方便。

**已实现功能:**

*   账号密码存储功能（最多 5 个）。
*   读取指定文件夹中的 APK 文件。
*   通过应用内部机制触发第三方应用安装。
*   基本用户界面用于输入和管理账号密码。
*   使用 `shared_preferences` 存储和加载账号密码。
*   实现读取指定文件夹（`tool_apks`）中的 APK 文件列表。
*   实现平台通道并在 Flutter 端调用原生方法（APK 安装和自动化登录）。
*   构建账号管理用户界面，包括账号输入、保存和列表展示，以及触发安装和登录的按钮。
*   将账号管理屏幕设置为应用的主页 (`main.dart`)。

**待实现功能:**

*   **手动实现**自动化登录第三方应用的功能（原生 Android 部分），包括 APK 安装逻辑和辅助功能服务。

**当前计划:**

1.  **创建账号密码存储机制**: 使用 `shared_preferences` 或简单的文件存储来保存账号密码，考虑到安全级别较低。
2.  **实现 APK 文件读取和安装**: 编写代码扫描指定文件夹，并使用平台通道（Platform Channels）调用原生 Android 代码来安装 APK 文件.
3.  **开发自动化登录逻辑**: 这部分将是复杂且依赖于第三方应用。需要利用辅助功能服务（Accessibility Service）来查找输入框和按钮，并模拟用户输入和点击。
4.  **构建用户界面**: 创建一个界面供用户输入账号密码，并可能包含一个触发安装和自动登录的按钮。

**具体步骤:**

1.  **添加依赖**: 在 `pubspec.yaml` 中添加 `shared_preferences` 依赖。
2.  **创建存储类**: 编写一个类来处理账号密码的保存和读取。
3.  **实现文件读取**: 使用 `dart:io` 库读取指定文件夹中的文件列表。
4.  **实现平台通道**: 创建一个平台通道, 用于在 Flutter 和原生 Android 代码之间通信。
5.  **编写原生 Android 代码 (手动完成)**: 
    *   实现 APK 安装逻辑。
    *   实现辅助功能服务，用于查找第三方应用 UI 元素和执行操作。
6.  **在 Flutter 中调用原生代码**: 在适当的时候调用平台通道来触发安装和自动化登录。
7.  **设计和实现 UI**: 创建输入框、按钮等 UI元素。